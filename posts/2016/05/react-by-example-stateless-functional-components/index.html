<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en-us">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>React by Example: Stateless Functional Components | Joe Buschmann</title>



<link href="/index.xml" rel="alternate" type="application/rss+xml" title="Joe Buschmann" />

<link rel="stylesheet" href="/css/style.css"/><link rel='stylesheet' href='/css/custom.css'><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<link rel="canonical" href="/posts/2016/05/react-by-example-stateless-functional-components/">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
<section class="section">
  <div class="container">
    <nav id="nav-main" class="nav">
      <div id="nav-name" class="nav-left">
        <a id="nav-anchor" class="nav-item" href="/">
          <h1 id="nav-heading" class="title is-4">Joe Buschmann</h1>
        </a>
      </div>
      <div class="nav-right">
        <nav id="nav-items" class="nav-item level is-mobile"><a class="level-item" aria-label="linkedin" href='https://linkedin.com/in/joebuschmann'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path stroke-width="1.8" d="m5.839218,4.101561c0,1.211972 -0.974141,2.194011 -2.176459,2.194011s-2.176459,-0.982039 -2.176459,-2.194011c0,-1.211094 0.974141,-2.194011 2.176459,-2.194011s2.176459,0.982917 2.176459,2.194011zm0.017552,3.94922l-4.388022,0l0,14.04167l4.388022,0l0,-14.04167zm7.005038,0l-4.359939,0l0,14.04167l4.360816,0l0,-7.370999c0,-4.098413 5.291077,-4.433657 5.291077,0l0,7.370999l4.377491,0l0,-8.89101c0,-6.915523 -7.829986,-6.66365 -9.669445,-3.259423l0,-1.891237z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="github" href='https://github.com/joebuschmann'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="facebook" href='https://facebook.com/joe.buschmann'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="twitter" href='https://twitter.com/joebuschmann'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="email" href='mailto:joseph.buschmann@gmail.com'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
    <polyline points="22,6 12,13 2,6"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="rss" href='/index.xml'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>
    
  </svg></i>
            </span>
          </a></nav>
      </div>
    </nav>

    <nav class="nav">
      

      
    </nav>

  </div>
  <script src="/js/navicon-shift.js"></script>
</section>
<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="/tags/react">#react</a>



  
  | <a class="subtitle is-6" href="/tags/javascript">#javascript</a>
  

      
    </div>
    <h2 class="subtitle is-6">May 24, 2016</h2>
    <h1 class="title">React by Example: Stateless Functional Components</h1>
    
    <div class="content">
      <p>In v0.14 the React team introduced <a href="https://facebook.github.io/react/docs/reusable-components.html#stateless-functions">stateless functional components</a>. They are implemented by functions that take a props argument and return JSX. They're simpler and offer performance benefits. The drawbacks are the lack of state and the inability to interact directly with the DOM.</p>
<h4 id="icon-component">Icon Component</h4>
<p>In a typical app, most React components will be presentational only and should be stateless functional components. A good example is an Icon component I created to encapsulate <a href="https://fortawesome.github.io/Font-Awesome/icons/">Font Awesome icons</a>. The component renders an <code>&lt;i&gt;&lt;/i&gt;</code> HTML element with the proper Font Awesome classes. For example, the JSX declaration <code>&lt;Icon name=&quot;envelope&quot; fixedWidth /&gt;</code> renders the HTML <code>&lt;i class=&quot;fa fa-envelope fa-fw&quot;&gt;&lt;/i&gt;</code> which displays an envelope icon with a fixed width.</p>
<script src="https://gist.github.com/joebuschmann/00f5f5068b1bbcb84361d73d51139f45.js"></script>
<p>The Icon source code is organized as a Common JS module. At the top, I import a few dependencies including React. The component is the <code>Icon</code> function with a single props argument. In the envelope example, props would contain two properties <code>name</code> and <code>fixedWidth</code> with the values <em>envelope</em> and <em>true</em> respectively.</p>
<pre><code>var React = require('react');
var filterKeys = require('./filterKeys');
var classnames = require('classnames');

// The component is implemented as a function.
var Icon = function (props) {
    // Snip
};
</code></pre><p>The return value is a JSX snippet. <a href="https://facebook.github.io/react/docs/jsx-in-depth.html">JSX</a> is React's way of describing how the component should be rendered. It's similar to HTML, but it needs to be <a href="https://babeljs.io/blog/2015/02/23/babel-loves-react">translated to Javascript</a> before it will work in the browser.</p>
<pre><code>return &lt;i {...elementProps} className={className}&gt;&lt;/i&gt;;
</code></pre><p>After the function declaration, a property named <code>propTypes</code> is added to the function. More on <code>propTypes</code> in the next section.</p>
<p>Finally, the <code>Icon</code> function is exported via <code>module.exports</code>.</p>
<pre><code>module.exports = Icon;
</code></pre><h4 id="proptypes">PropTypes</h4>
<p>React has the concept of <code>propTypes</code> to handle prop validation. <a href="https://facebook.github.io/react/docs/reusable-components.html#prop-validation">PropTypes</a> ensure the correct prop values are being passed to a component. If a prop is of the wrong type or a required one is missing, React will log a warning.</p>
<p>In the case of the Icon component, the <code>propTypes</code> specification is added as a property of the component function. It is an object whose properties export validators from the React.PropTypes namespace.</p>
<pre><code>Icon.propTypes = {
    name: React.PropTypes.string.isRequired,
    spin: React.PropTypes.bool,
    fixedWidth: React.PropTypes.bool,
    className: React.PropTypes.string
};
</code></pre><p>The Icon component has one required property <code>name</code> and three optional properties <code>spin</code>, <code>fixedWidth</code>, and <code>className</code>. The props <code>name</code>, <code>spin</code>, and <code>fixedWidth</code> are translated into Font Awesome CSS classes to provide the icon type, spin animation, and a fixed width. They are composed using <a href="https://www.npmjs.com/package/classnames">Classnames</a>, a simple utility for joining CSS classes.</p>
<pre><code>    var className = classnames('fa', 'fa-' + props.name, props.className, {
        'fa-spin': props.spin,
        'fa-fw': props.fixedWidth
    });
</code></pre><h4 id="filtering-proptypes">Filtering PropTypes</h4>
<p>The available props aren't limited to those defined in <code>propTypes</code>. Consumers of <code>Icon</code> can supply extra props that are applied directly to the <code>&lt;i&gt;&lt;/i&gt;</code> element using the <a href="https://facebook.github.io/react/docs/jsx-spread.html">spread operator</a>.</p>
<pre><code>&lt;i {...elementProps} className={className}&gt;&lt;/i&gt;
</code></pre><p>Before they are added to the element, an additional step is needed to filter out the props specified by <code>propTypes</code>. This prevents name, spin, and fixedWidth from being included in the final HTML output as attributes.</p>
<pre><code>var elementProps = filterKeys(props, Icon.propTypes);
</code></pre><p>The custom <code>filterKeys</code> method takes the keys defined by <code>propTypes</code> and removes them from props. It returns a new object containing only the items that apply to the <code>&lt;i&gt;&lt;/i&gt;</code> element. This approach de-clutters the rendered HTML and cuts down on the final script size.</p>
<script src="https://gist.github.com/joebuschmann/4a74d87c3caade460eb2cf4e056fcc23.js"></script>
<h4 id="component-composition">Component Composition</h4>
<p>Now we have a component that renders icons, but how can it be used? React components can either be rendered directly into the HTML page like below:</p>
<pre><code>// Rendering the Icon directly into the page isn't very useful.
ReactDOM.render(&lt;Icon name=&quot;envelope&quot; /&gt;, document.getElementById('icon'))
</code></pre><p>&hellip;or they can be composed into more complex components. In the example below, a Button component displays a contextual icon on the button itself. The <code>icon</code> prop indicates which image to render, and <code>waiting</code> displays a spinner.</p>
<script src="https://gist.github.com/joebuschmann/a66349ec3bff45a567cdf0a50e66f5b6.js"></script>
<p>The icon is conditionally created and saved to a local variable depending on the values of the <code>waiting</code> and <code>icon</code> props. Notice that JSX can be saved to a variable just like any other Javascript expression.</p>
<pre><code>var icon = null;

if (props.waiting) {
    icon = &lt;Icon name=&quot;spinner&quot; fixedWidth spin style={iconStyle} /&gt;;
} else if (props.icon) {
    icon = &lt;Icon name={props.icon} fixedWidth style={iconStyle} /&gt;;
}
</code></pre><p>Next the icon is added to the JSX returned by the function. The value of the icon variable may be null, but that's fine. React will ignore any null or undefined values.</p>
<pre><code>return &lt;button {...elementProps} type=&quot;button&quot; onClick={onClick}&gt;{icon}{props.children}&lt;/button&gt;;
</code></pre><p>The snippet below creates a button with an envelope icon and sets the value of <code>waiting</code> to <code>this.state.waiting</code>. This state value comes from a stateful component that's hosting the button. As the parent component's value for <code>this.state.waiting</code> changes, the button will be re-rendered with the new prop values.</p>
<pre><code>var Button = require('button');

&lt;Button className=&quot;btn btn-primary&quot; onClick={this.send} icon=&quot;envelope&quot; waiting={this.state.waiting}&gt;Send Message&lt;/Button&gt;
</code></pre><h4 id="wrapping-up">Wrapping Up</h4>
<p>Icon and Button are simple and carry no internal state. That makes them ideal candidates to be implemented as stateless functional components. They can be used to build more complex components which in turn can be composed into ever more complex components. Eventually state is thrown into the mix, and you have a React application.</p>

      
    </div>
    
  </div>
</section>


<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
  
    <script type="text/javascript">
      var disqus_shortname = 'joebuschmann';
      function disqus() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }
  
      disqus();
  

    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy; Joe Buschmann 2020</p>
    
  </div>
</section>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-64657873-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




</body>
</html>

